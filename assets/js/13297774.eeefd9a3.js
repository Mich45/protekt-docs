"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[595],{4611:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/protekt-sign-up-060d0676f4923395233e0acfdc6ad5f8.png"},8037:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"getting-started/Next-sdk","title":"Getting Started With Protekt Next.js SDK","description":"The Protekt Next.js client library simplifies integrating Protekt in your Next.js app by wrapping Protekt\'s APIs into easy-to-use methods and functions. This guide will walk you through the steps to implement authentication in your Next.js application using Protekt. It\'s intended for developers who have a basic knowledge of React and Next.js App Router.","source":"@site/docs/getting-started/Next-sdk.md","sourceDirName":"getting-started","slug":"/getting-started/Next-sdk","permalink":"/protekt-docs/docs/getting-started/Next-sdk","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/Next-sdk.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started \ud83d\udcd4","permalink":"/protekt-docs/docs/category/getting-started-"},"next":{"title":"Node.js SDK","permalink":"/protekt-docs/docs/getting-started/Node-sdk"}}');var o=n(4848),r=n(8453);const i={sidebar_position:1},a="Getting Started With Protekt Next.js SDK",d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install Protekt Next.js SDK",id:"install-protekt-nextjs-sdk",level:2},{value:"Step 1 - Create a new Protekt project",id:"step-1---create-a-new-protekt-project",level:2},{value:"Step 2 - Configure Your Universal Login and Logout Components",id:"step-2---configure-your-universal-login-and-logout-components",level:2},{value:"Step 3 - Protect a Route in Next.js",id:"step-3---protect-a-route-in-nextjs",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"getting-started-with-protekt-nextjs-sdk",children:"Getting Started With Protekt Next.js SDK"})}),"\n",(0,o.jsxs)(t.p,{children:["The Protekt Next.js client library simplifies integrating Protekt in your Next.js app by wrapping Protekt's APIs into easy-to-use methods and functions. This guide will walk you through the steps to implement authentication in your Next.js application using Protekt. It's intended for developers who have a basic knowledge of ",(0,o.jsx)(t.a,{href:"https://react.dev",children:"React"})," and ",(0,o.jsx)(t.a,{href:"https://nextjs.org",children:"Next.js App Router"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(t.p,{children:"Before you continue, ensure you complete the following requirements:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Node.js v21+ is installed on your system."}),"\n",(0,o.jsxs)(t.li,{children:["You have signed up for a ",(0,o.jsx)(t.a,{href:"https://app.prtekt.io",children:"Protekt account"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"You have a Next.js v15+ project already set up."}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"install-protekt-nextjs-sdk",children:"Install Protekt Next.js SDK"}),"\n",(0,o.jsx)(t.p,{children:"Navigate to your Next.js project root directory and run the following command to install Protekt's Next.js SDK:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"npm install @hackmamba/protekt-js\n"})}),"\n",(0,o.jsx)(t.h2,{id:"step-1---create-a-new-protekt-project",children:"Step 1 - Create a new Protekt project"}),"\n",(0,o.jsxs)(t.p,{children:["Log in to your Protekt dashboard and navigate to ",(0,o.jsx)(t.strong,{children:"Projects"})," > ",(0,o.jsx)(t.strong,{children:"Create new Project"})," on the top menu bar to create a new project."]}),"\n",(0,o.jsxs)(t.p,{children:["When prompted for the authentication method, select ",(0,o.jsx)(t.strong,{children:"Password-based"})," login. Once the project has been created, click on it and copy the ",(0,o.jsx)(t.strong,{children:"Protekt Login ID"})," string that appears in the ",(0,o.jsx)(t.strong,{children:"Configuration"})," tab."]}),"\n",(0,o.jsxs)(t.p,{children:["Now go back to your Next.js project and add the Protekt Login ID in ",(0,o.jsx)(t.code,{children:".env"})," as an environment variable:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"PROTEKT_Login_ID = '<your_Protekt_Login_ID>'\n"})}),"\n",(0,o.jsx)(t.h2,{id:"step-2---configure-your-universal-login-and-logout-components",children:"Step 2 - Configure Your Universal Login and Logout Components"}),"\n",(0,o.jsxs)(t.p,{children:["In ",(0,o.jsx)(t.code,{children:"src/app/auth/login.tsx"}),", import the prebuilt Login and Logout components from the SDK and provide them with your PROTEKT_LOGIN_ID."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:'"use client";\n\nimport { Login } from "@hackmamba/protekt-js/universal";\n\nconst config = {\n  protektID: process.env.NEXT_PUBLIC_PROTEKT_LOGIN_ID,\n  redirectUri: "/dashboard",\n\n};\n\nexport function Login() {\n  return (\n    <div>\n      <Login\n          config={config}\n        />\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(t.p,{children:"This is what the login page looks like:"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Protekt Universal Login Page",src:n(4611).A+"",width:"920",height:"542"})}),"\n",(0,o.jsxs)(t.p,{children:["Notice that we\u2019re using ",(0,o.jsx)(t.strong,{children:"NEXT_PUBLIC_PROTEKT_LOGIN_ID"})," since environment variables accessed in the client must be prefixed with ",(0,o.jsx)(t.em,{children:"NEXT_PUBLIC"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"step-3---protect-a-route-in-nextjs",children:"Step 3 - Protect a Route in Next.js"}),"\n",(0,o.jsxs)(t.p,{children:["The core idea behind authentication in a Next.js app is to restrict user access to sensitive data and information. You can protect pages or API routes by checking the user\u2019s session from Protekt, using the ",(0,o.jsx)(t.code,{children:"getSession()"})," helper method."]}),"\n",(0,o.jsxs)(t.p,{children:["The following example adds authentication to protect a dashboard page named ",(0,o.jsx)(t.code,{children:"src/app/dashboard/page.tsx"}),". If the user is not logged in, they are redirected to the login page we defined earlier:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-tsx",children:'import { getSession } from "@hackmamba/protekt-js/server";\nimport { redirect } from "next/navigation";\nimport { Logout } from "@hackmamba/protekt-js/universal";\n\nexport default async function Dashboard() {\n  const session = await getSession();\n\n  if (!session) {\n    redirect("/login");\n  }\n\n  return (\n    <div>\n      <h1>Welcome, {session.user.email}!</h1>\n      <p>This is your secure dashboard.</p>\n      <Logout\n          config={{\n            ProtektID: process.env.NEXT_PUBLIC_PROTEKT_LOGIN_ID,\n            redirectUri: "/login"\n          }}\n          />\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"https://app.protekt.io",children:"Protekt Dasboard"}),": Learn how to customize and manage your Protekt projects"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"/sdks/next-js",children:"Protekt Next.js SDK API reference"}),": Explore the functions and methods in the Protekt Next.js SDK more fully."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"/resources/troubleshooting",children:"Troubleshooting"}),": If you run into problems, see our troubleshooting guide for common errors and how to fix them."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var s=n(6540);const o={},r=s.createContext(o);function i(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);